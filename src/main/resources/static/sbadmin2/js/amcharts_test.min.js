/*!
 * Start Bootstrap - Climenvi project webapp, based on the SB Admin 2 Template v1.0.0 ()
 * Copyright 2013-2019 Charles Mecheriki
 * Licensed under MIT (https://github.com/BlackrockDigital/webapp/blob/master/LICENSE)
 */

am4core.ready(function(){am4core.useTheme(am4themes_animated);var a=am4core.create("chartdiv",am4charts.XYChart),e=a.xAxes.push(new am4charts.DateAxis);e.startLocation=.5,e.endLocation=.5,e.baseInterval={timeUnit:"year",count:1};var t=a.yAxes.push(new am4charts.ValueAxis),n=a.series.push(new am4charts.LineSeries);n.dataFields.valueY="temperatureMoyenne",n.dataFields.dateX="date",n.strokeWidth=3,n.tooltipText="{valueY.value}",n.fillOpacity=.1;var o=t.createSeriesRange(n);o.value=0,o.endValue=-1e3,o.contents.stroke=a.colors.getIndex(4),o.contents.fill=o.contents.stroke,o.contents.strokeOpacity=.7,o.contents.fillOpacity=.1,a.cursor=new am4charts.XYCursor,a.cursor.xAxis=e,a.scrollbarX=new am4core.Scrollbar,a.dateFormatter.dateFormat="yyyy",a.numberFormatter.numberFormat="#.##",$.ajax({url:"/api/indice/donnees",method:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({nomScenario:"Reference",nomPeriode:"Reference",nomSite:"Meusnes",nomIndice:"Temperature Moyenne Annuelle"})}).done(function(e){console.log(e),a.data=e.points,o.value=e.temperatureMoyenneGlobale}).fail(function(e){console.log("error : "+e)}).always(function(){console.log("always")})});